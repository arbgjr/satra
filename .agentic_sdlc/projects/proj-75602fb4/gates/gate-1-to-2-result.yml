gate_evaluation:
  gate_name: "Requirements to Architecture"
  from_phase: 1
  to_phase: 2
  evaluated_at: '2026-01-17T04:06:15Z'
  evaluator: gate-evaluator

  verdict: APPROVED
  passed: true
  score: 0.95

  summary: |
    Phase 1 (Requirements Gathering) concluida com sucesso.
    Todos os artefatos obrigatorios foram criados e validados.
    Sistema pronto para avancar para Phase 2 (Arquitetura e Design).

  artifact_checks:
    - artifact: "Epics Definition"
      path: ".agentic_sdlc/projects/proj-75602fb4/requirements/epics.yml"
      required: true
      present: true
      valid: true
      details: "5 epicos definidos com scope, dependencias e success criteria"

    - artifact: "User Stories"
      path: ".agentic_sdlc/projects/proj-75602fb4/requirements/user-stories.yml"
      required: true
      present: true
      valid: true
      details: "23 user stories com criterios de aceite testaveis"

    - artifact: "Non-Functional Requirements"
      path: ".agentic_sdlc/projects/proj-75602fb4/requirements/non-functional-reqs.yml"
      required: true
      present: true
      valid: true
      details: "17 NFRs cobrindo performance, seguranca, compliance"

    - artifact: "Edge Cases"
      path: ".agentic_sdlc/projects/proj-75602fb4/requirements/edge-cases.yml"
      required: true
      present: true
      valid: true
      details: "21 edge cases identificados com expected behavior"

    - artifact: "Acceptance Criteria"
      path: ".agentic_sdlc/projects/proj-75602fb4/requirements/acceptance-criteria.yml"
      required: true
      present: true
      valid: true
      details: "24 testes de aceite consolidados, 15 P0"

    - artifact: "Phase 1 Context"
      path: ".agentic_sdlc/projects/proj-75602fb4/phases/phase-1.yml"
      required: true
      present: true
      valid: true
      details: "Contexto da fase documentado"

  quality_checks:
    - check: "Requisitos testaveis"
      passed: true
      score: 1.0
      details: "Todos os criterios de aceite sao testaveis e automatizaveis"

    - check: "NFRs quantificaveis"
      passed: true
      score: 1.0
      details: "NFRs tem metricas claras (latencia < 30s, uptime 99%, etc.)"

    - check: "Rastreabilidade"
      passed: true
      score: 0.9
      details: "Stories vinculadas a epics, ADRs referenciados"

    - check: "Cobertura de edge cases"
      passed: true
      score: 0.9
      details: "21 edge cases cobrem cenarios principais de falha"

    - check: "Compliance considerado"
      passed: true
      score: 1.0
      details: "LGPD, CVM e termos B3 documentados nos NFRs"

  compliance_checks:
    - check: "LGPD"
      status: "addressed"
      details: "NFR-COMP-001 define requisitos de conformidade"

    - check: "CVM"
      status: "addressed"
      details: "NFR-COMP-002 define disclaimers obrigatorios"

    - check: "B3 Terms"
      status: "addressed"
      details: "NFR-COMP-003 define verificacao de termos"

  blockers: []

  warnings:
    - type: "estimation"
      message: "Estimativa de 6-8 semanas e otimista para equipe de 1 pessoa"
      severity: low
      recommendation: "Considerar MVP mais enxuto ou timeline maior"

    - type: "dependency"
      message: "Dependencia critica do Alpha Vantage free tier"
      severity: medium
      recommendation: "Testar limites de rate na Phase 2 antes de commit"

  recommendations:
    - "Validar rate limits do Alpha Vantage com POC na Phase 2"
    - "Priorizar stories P0 para MVP inicial"
    - "Considerar Sprint 0 focado em infraestrutura base"
    - "Definir stack tecnologica na Phase 2 baseado em NFRs"

  next_phase_focus:
    phase: 2
    name: "Arquitetura e Design"
    key_activities:
      - "Definir arquitetura de alto nivel"
      - "Escolher stack tecnologica"
      - "Criar ADRs para decisoes arquiteturais"
      - "Desenvolver threat model"
      - "Definir API contracts"
      - "Planejar infraestrutura"

    expected_agents:
      - system-architect
      - adr-author
      - threat-modeler
      - api-designer

    expected_artifacts:
      - "architecture-overview.md"
      - "adr-004-stack-tecnologica.yml"
      - "adr-005-api-design.yml"
      - "threat-model.yml"
      - "api-spec.yml (OpenAPI)"

  stakeholder_review:
    required: true
    reviewers:
      - role: "Product Owner"
        name: "arbgjr"
        focus: "Validar scope e priorizacao"

    files_for_review:
      high_priority:
        - path: ".agentic_sdlc/projects/proj-75602fb4/requirements/epics.yml"
          description: "5 epicos definidos - validar scope"
        - path: ".agentic_sdlc/projects/proj-75602fb4/requirements/user-stories.yml"
          description: "23 stories - validar priorizacao"
        - path: ".agentic_sdlc/projects/proj-75602fb4/requirements/non-functional-reqs.yml"
          description: "NFRs criticos - validar thresholds"

      medium_priority:
        - path: ".agentic_sdlc/projects/proj-75602fb4/requirements/edge-cases.yml"
          description: "Edge cases identificados"
        - path: ".agentic_sdlc/projects/proj-75602fb4/requirements/acceptance-criteria.yml"
          description: "Criterios de aceite consolidados"

  metrics:
    artifacts_created: 5
    quality_score: 0.96
    compliance_score: 1.0
    overall_score: 0.95
    phase_duration: "~6 minutos"
